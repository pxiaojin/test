<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>openlayer-demo</title>
    <link rel="stylesheet" href="./lib/v6.1.1-dist/ol.css">
    <script type="text/javascript" src="./lib/v6.1.1-dist/ol-debug.js" charset="utf-8"></script>
    <script type="text/javascript" src="./lib/jquery-1.11.1.min.js"></script>
    <style>
        #map {
            width: 80%;
            height: 400px;
        }
    </style>
</head>

<body>
    <p>地图1</p>
    <!-- <div id="map1"></div> -->
    <div id="map"></div>

    <script type="text/javascript">
        // // 新建一个openstreetmap地图层
        //     var openstreetmap = new ol.layer.Tile({
        //         source: new ol.source.OSM()
        //     })
        //     function switch2OSM() {
        //         // 先移除当前的地图，再添加Open Street Map 地图
        //         // 移除地图层：map.removeLayer(map.getLayers().item(0))
        //         // 添加地图层：map.addLayer(map.getLayers(openstreetmap))
        //         map.removeLayer(map.getLayers().item(0));
        //         map.addLayer(openStreetMapLayer);
        //     }
        // 	// 创建地图1
        //   var map1 = new ol.Map({
        //   			// logo: {src: '../img/face_monkey.png', href: 'http://www.openstreetmap.org/'},可设置跳转地址
        //   			logo: './img/logo.png',
        //             // 设置地图图层
        //             layers: [
        //               // 使用已创建的Open Street Map地图源的瓦片图层
        //               openstreetmap
        //             ],
        //             // 设置显示地图的视图
        //             view: new ol.View({
        // 		            center: [0, 0],
        // 		            zoom: 2
        // 		        }),
        //             // 让id为map的div作为地图的容器
        //             target: 'map1'    
        //         })

        var openstreetmap = new ol.layer.Tile({
            source: new ol.source.OSM()
         })
        // bg地图层
        var bgLayer = new ol.layer.Tile({
            source: new ol.source.ImageStatic({
                url: './img/bg.jpg',
                imageExtent: extent
            })
        });
        var center = ol.proj.transform([104.06667, 30.66667], 'EPSG:4326', 'EPSG:3857')
        var extent = [center[0]- 550*1000/2, center[1]-344*1000/2, center[0]+550*1000/2, center[1]+344*1000/2]
        map.addLayer(bgLayer);


        // 创建地图
        var map = new ol.Map({
            layers: [
                openstreetmap
            ],
            view: new ol.View({
                // 设置成都为地图中心
                center: [104.06, 30.67],
                projection: 'EPSG:4326',
                zoom: 10
            }),
            target: 'map'
        });
        // // 创建一个用于放置活动图标的layer
        // var activityLayer = new ol.layer.Vector({
        //     source: new ol.source.Vector()
        // });
        // // 创建一个活动图标需要的Feature，并设置位置
        // var activity = new ol.Feature({
        //     geometry: new ol.geom.Point([center[0]- 550*1000/2 + 390 * 1000, center[1]-344*1000/2 + (344 - 145) * 1000])
        // })
        // // 设置Feature的样式，使用小旗子图标
        // activity.setStyle(new ol.style.Style({
        //     image: new ol.style.Icon({
        //         src: './img/logo.png',
        //         anchor: [0, 1],
        //         scale: 0.2
        //     })
        // }));
        // // 添加活动Feature到layer上，并把layer添加到地图中
        // activityLayer.getSource().addFeature(activity);
    </script>
</body>

</html>